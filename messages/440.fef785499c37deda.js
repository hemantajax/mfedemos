(self.webpackChunkmessages=self.webpackChunkmessages||[]).push([[440],{1102:(O,E,v)=>{function n(d){}v.d(E,{o:()=>n})},2723:(O,E,v)=>{v.d(E,{Ej:()=>d,O8:()=>C,lh:()=>D,pG:()=>w,q:()=>S,vX:()=>b});var n=v(8440);function d(t,i,f){const c=Object.create(g);c.source=t,c.computation=i,null!=f&&(c.equal=f);const p=()=>{if((0,n.JC)(c),(0,n.mK)(c),c.value===n.EF)throw c.error;return c.value};return p[n.bh]=c,(0,n.a7)(c),p}function S(t,i){(0,n.JC)(t),(0,n.j2)(t,i),(0,n.TO)(t)}function w(t,i){(0,n.JC)(t),(0,n.mC)(t,i),(0,n.TO)(t)}const g={...n.pL,value:n.Ag,dirty:!0,error:null,equal:n.H8,kind:"linkedSignal",producerMustRecompute:t=>t.value===n.Ag||t.value===n.Ny,producerRecomputeValue(t){if(t.value===n.Ny)throw new Error("");const i=t.value;t.value=n.Ny;const f=(0,n.Bg)(t);let c;try{const a=t.source();c=t.computation(a,i===n.Ag||i===n.EF?void 0:{source:t.sourceValue,value:i}),t.sourceValue=a}catch(a){c=n.EF,t.error=a}finally{(0,n.Wu)(t,f)}i!==n.Ag&&c!==n.EF&&t.equal(i,c)?t.value=i:(t.value=c,t.version++)}};function C(t){const i=(0,n.Ht)(null);try{return t()}finally{(0,n.Ht)(i)}}const b={...n.pL,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function D(t){if(t.dirty=!1,t.version>0&&!(0,n.si)(t))return;t.version++;const i=(0,n.Bg)(t);try{t.cleanup(),t.fn()}finally{(0,n.Wu)(t,i)}}},8440:(O,E,v)=>{v.d(E,{Ag:()=>T,Bg:()=>V,Bz:()=>p,EF:()=>_,H8:()=>L,Ht:()=>C,JC:()=>a,KE:()=>D,KO:()=>Y,KZ:()=>X,Mj:()=>x,NV:()=>B,No:()=>c,Ny:()=>h,TO:()=>R,Wu:()=>I,XR:()=>H,a7:()=>A,bh:()=>g,dV:()=>re,ev:()=>W,g8:()=>t,j2:()=>M,kO:()=>F,mC:()=>K,mK:()=>f,n5:()=>ee,nR:()=>b,pL:()=>i,q2:()=>ne,rl:()=>J,s0:()=>$,si:()=>G,zR:()=>N});let n=null,d=!1,S=1,w=null;const g=Symbol("SIGNAL");function C(e){const r=n;return n=e,r}function b(){return n}function D(){return d}function t(e){return void 0!==e[g]}const i={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function f(e){if(d)throw new Error("");if(null===n)return;n.consumerOnSignalRead(e);const r=n.producersTail;if(void 0!==r&&r.producer===e)return;let u;const o=n.recomputing;if(o&&(u=void 0!==r?r.nextProducer:n.producers,void 0!==u&&u.producer===e))return n.producersTail=u,void(u.lastReadVersion=e.version);const s=e.consumersTail;if(void 0!==s&&s.consumer===n&&(!o||function z(e,r){const u=r.producersTail;if(void 0!==u){let o=r.producers;do{if(o===e)return!0;if(o===u)break;o=o.nextProducer}while(void 0!==o)}return!1}(s,n)))return;const m=y(n),l={producer:e,consumer:n,nextProducer:u,prevConsumer:s,lastReadVersion:e.version,nextConsumer:void 0};n.producersTail=l,void 0!==r?r.nextProducer=l:n.producers=l,m&&U(e,l)}function c(){S++}function a(e){if((!y(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==S)){if(!e.producerMustRecompute(e)&&!G(e))return void R(e);e.producerRecomputeValue(e),R(e)}}function p(e){if(void 0===e.consumers)return;const r=d;d=!0;try{for(let u=e.consumers;void 0!==u;u=u.nextConsumer){const o=u.consumer;o.dirty||x(o)}}finally{d=r}}function N(){return!1!==n?.consumerAllowSignalWrites}function x(e){e.dirty=!0,p(e),e.consumerMarkedDirty?.(e)}function R(e){e.dirty=!1,e.lastCleanEpoch=S}function V(e){return e&&F(e),C(e)}function F(e){e.producersTail=void 0,e.recomputing=!0}function I(e,r){C(r),e&&W(e)}function W(e){e.recomputing=!1;const r=e.producersTail;let u=void 0!==r?r.nextProducer:e.producers;if(void 0!==u){if(y(e))do{u=P(u)}while(void 0!==u);void 0!==r?r.nextProducer=void 0:e.producers=void 0}}function G(e){for(let r=e.producers;void 0!==r;r=r.nextProducer){const u=r.producer,o=r.lastReadVersion;if(o!==u.version||(a(u),o!==u.version))return!0}return!1}function H(e){if(y(e)){let r=e.producers;for(;void 0!==r;)r=P(r)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function U(e,r){const u=e.consumersTail,o=y(e);if(void 0!==u?(r.nextConsumer=u.nextConsumer,u.nextConsumer=r):(r.nextConsumer=void 0,e.consumers=r),r.prevConsumer=u,e.consumersTail=r,!o)for(let s=e.producers;void 0!==s;s=s.nextProducer)U(s.producer,s)}function P(e){const r=e.producer,u=e.nextProducer,o=e.nextConsumer,s=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,void 0!==o?o.prevConsumer=s:r.consumersTail=s,void 0!==s)s.nextConsumer=o;else if(r.consumers=o,!y(r)){let m=r.producers;for(;void 0!==m;)m=P(m)}return u}function y(e){return e.consumerIsAlwaysLive||void 0!==e.consumers}function A(e){w?.(e)}function J(e){const r=w;return w=e,r}function L(e,r){return Object.is(e,r)}function X(e,r){const u=Object.create(Z);u.computation=e,void 0!==r&&(u.equal=r);const o=()=>{if(a(u),f(u),u.value===_)throw u.error;return u.value};return o[g]=u,A(u),o}const T=Symbol("UNSET"),h=Symbol("COMPUTING"),_=Symbol("ERRORED"),Z={...i,value:T,dirty:!0,error:null,equal:L,kind:"computed",producerMustRecompute:e=>e.value===T||e.value===h,producerRecomputeValue(e){if(e.value===h)throw new Error("");const r=e.value;e.value=h;const u=V(e);let o,s=!1;try{o=e.computation(),C(null),s=r!==T&&r!==_&&o!==_&&e.equal(r,o)}catch(m){o=_,e.error=m}finally{I(e,u)}s?e.value=r:(e.value=o,e.version++)}};let j=function Q(){throw new Error};function q(e){j(e)}function Y(e){j=e}let k=null;function ee(e,r){const u=Object.create($);u.value=e,void 0!==r&&(u.equal=r);const o=()=>B(u);return o[g]=u,A(u),[o,l=>M(u,l),l=>K(u,l)]}function re(e){const r=k;return k=e,r}function B(e){return f(e),e.value}function M(e,r){N()||q(e),e.equal(e.value,r)||(e.value=r,function ue(e){e.version++,c(),p(e),k?.(e)}(e))}function K(e,r){N()||q(e),M(e,r(e.value))}function ne(e){k?.(e)}const $={...i,equal:L,value:void 0,kind:"signal"}}}]);